## 배열

** << 목록 >> **
 1 . 배열
 2 . 배열의 생성
 3 . 배열의 사용
 4 . 배열의 제어 - 배열 크기 , 배열의 조작 [ 추가, 제거, 정렬 ]
 5 . 연관배열
 6 . 연관배열의 생성

---------------

##### 배열
* 배열이란 다른 언어에서는 리스트라고도 하는 형태의 데이터 타입이다.
* 배열은 연관된 데이터를 모아서 관리하기 위해서 사용하는 데이터 타입이다.
* 변수가 하나의 데이터를 임시로 저장하기 위한 것이라면 배열은 **여러 개의 데이터를 저장하기 위한 것**이라고 할 수 있다.


---------------
##### 배열의 생성

```php
<?php
$arr = [ 'a' , 'b' , 123 ];
?>
```
* `대괄호`는 배열을 만드는 기호이다.
* 대괄호 안에 데이터를 `콤마`로 구분해서 나열하면 배열이 된다.

`php 5.4 이전 버전에서는 아래와 같은 문법을 사용해야 한다. 따라서 하위 호환성을 위해서는 아래의 형식을 사용하는 것이 권장된다.`
```php
<?php
$arr = array( 'a' , 'b' , 123 );
?>
```

데이터를 꺼내는 방법은 아래처럼 사용하면 된다
```php
<?php
$arr = [ 'a' , 'b' , 123 ];
echo $arr[0].'<br />';
echo $arr[1].'<br />';
echo $arr[2].'<br />';
?>
───────────── 출력 ────────────────
a
b
123
```
> 즉 배열에 담겨있는 값을 가져올 때는 대괄호 안에 숫자를 넣는다.
> 이 숫자를 색인(**index**)라고 부르고 0부터 시작한다.

---------------
##### 배열의 사용
* 배열의 진가는 `반복문과 결합했을 때` 나타난다. 반복문으로 배열에 담긴 정보를 하나씩 꺼내서 처리 할 수 있기 때문이다.
다음 예제를 보자

```php
<?php
function get_members() {
	return ['egoing','k8805','sorialgi'];
}

$members = get_members();

for($i = 0; $i < count($members); i++) {
	echo ucfirst($members[$i]).'<br />';
}

?>
```
> 결과는 아래와 같다.
```
Egoing
K8805
Sorialgi
```
위의 예제에서 주목해야 할 것은 반복문과 배열을 결합한 부분이다.
반복문을 이용해서 배열 $members의 내용을 하나씩 꺼낸 후에 **ucfirst()**를 이용하여 `이름의 첫 글자를 대문자로 변경한 후에 출력`하고 있다.
`배열이란` 연관된 정보를 **하나의 그룹**으로 관리하기위해서 사용한다.
그리고 그 정보를 처리할 때는 반복문을 주로 이용한다.

---------------
##### 배열의 제어
* 배열은 복수의 데이터를 효율적으로 관리, 전달하기 위한 목적으로 고안된 데이터 타입이다.
* 따라서 데이터의 추가/ 수정/ 삭제와 같은 일을 편리하게 할 수 있도록 돕는 다양한 기능을 가지고 있다.
* 몇가지 중요한 기능들만 살펴보자

<br>
###### 배열 크기

`배열의 크기 구하는 메소드 : count(배열)`

```php
<?php
	$a = [1,2,3,4,5];
    echo count($a);
?>
───────────── 출력 ────────────────
5
```

###### 배열의 조작
- ** 추가 **

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`배열의 마지막에 아이템 추가 : array_push(배열, '값');`
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`하나 이상의 배열 병합 : array_merge(배열, ['값1', '값2']);`
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`배열의 시작점에 아이템 추가 : array_unshift(배열, '값');`
<br>
다음은 **배열의 끝**에 아이템을 추가하는 예제이다.

```php
<?php
$arr = ['a','b','c','d','e'];
array_push($arr, 'z');
var_dump($arr);
?>
───────────── 출력 ────────────────
array(6) { [0]=> string(1) "a" [1]=> string(1) "b" [2]=> string(1) "c" [3]=> string(1) "d" [4]=> string(1) "e" [5]=> string(1) "z" }
```
<br>
다음은 **복수의 아이템**을 배열에 추가하는 방법이다.
`배열을 이용`해서 값을 집어 넣는다.
`array_merge(배열, ['값1','값2'])`
```php
<?php
$li = ['a','b','c','d','e'];
$li = array_merge($li, ['f','g']);
var_dump($li);
?>
───────────── 출력 ────────────────
array(7) { [0]=> string(1) "a" [1]=> string(1) "b" [2]=> string(1) "c" [3]=> string(1) "d" [4]=> string(1) "e" [5]=> string(1) "f" [6]=> string(1) "g" }
```

<br>
다음은 **배열의 시작점**에 아이템을 추가하는 방법이다.
`array_unshift(배열,값)`

```php
<?php
$li = ['a','b','c','d','e'];
array_unshift($li,'start');

var_dump($li);
?>
───────────── 출력 ────────────────
array(6) { [0]=> string(5) "start" [1]=> string(1) "a" [2]=> string(1) "b" [3]=> string(1) "c" [4]=> string(1) "d" [5]=> string(1) "e" }
```


- ** 제거 **

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`배열의 첫번째 아이템 제거 : array_shift(배열, '값');`
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`배열에 마지막 아이템 제거 : array_pop(배열, ['값1', '값2']);`
<br>
배열의 **첫번째 요소를 제거**하는 방법이다

```php
<?php
$li = ['a', 'b', 'c', 'd', 'e', 'z'];
array_shift($li);
var_dump($li);
?>
───────────── 출력 ────────────────
array(5) { [0]=> string(1) "b" [1]=> string(1) "c" [2]=> string(1) "d" [3]=> string(1) "e" [4]=> string(1) "z" }
```
<br>
다음은 **배열의 마지막 요소를 제거**하는 방법이다.
```php
<?php
$li = ['a', 'b', 'c', 'd', 'e', 'z'];
array_pop($li);
var_dump($li);
?>
```

<br>
##### ** 정렬 **
` sort(배열) : 오름차순 정렬`
`rsort(배열) : 내림차순 정렬`

<br>
다음은 정렬하는 방법이다.

```php
<?php
$li = ['c','e','a','b','d'];
sort($li);
var_dump($li);
?>
───────────── 출력 ────────────────
array(5) { [0]=> string(1) "a" [1]=> string(1) "b" [2]=> string(1) "c" [3]=> string(1) "d" [4]=> string(1) "e" }
```

<br>
역순으로 정렬하고 싶을 때는 아래와 같이 한다.

```php
<?php
$li = ['c','e','a','b','d'];
rsort($li);
var_dump($li);
?>
───────────── 출력 ────────────────
array(5) { [0]=> string(1) "e" [1]=> string(1) "d" [2]=> string(1) "c" [3]=> string(1) "b" [4]=> string(1) "a" }
```

<br>
##### 연관배열
지금까지 살펴본 배열은 아이템에 대한 식별자로 숫자를 사용했다. 
데이터가 추가되면 배열 전체에서 중복되지 않는 인덱스가 자동으로 만들어져서 그 데이터에 대한 식별자가 되는 것이다.
PHP에서는 **인덱스로 문자를 사용하는 것도 가능하다**.
일반적으로 다른 언어에서는 숫자를 인덱스로 사용하는 것을 일반적으로 `배열` 혹은 indexed array 라고 하고, 문자를 인덱스로 사용하는 것을 `연관배열`이라고 부르지만, 
PHP에서는 이를 특별히 구분하지 않고 있기 때문에 , 하나의 배열의 키 값으로 숫자와 문자 모두를 사용할 수 있다.

<br>
##### 연관배열의 생성

다음은 연관배열을 만드는 방법이다.

```php
<?php
$grades = array('egoing'=>10, 'k8805'=>6, 'sorialgi'=>80);
//		  array('키'=>값, '키'=>값, '키'=>값);
?>
```
위의 예제에서 egoing은 key가 되고 10은 value가 된다.

아래는 연관배열을 만드는 다른 방법이다.

```php
<?php
$grades = [];
$grades['egoing']=10;
$grades['k8805']=6;
$grades['sorialgi']=80;

var_dump($grades);
?>
───────────── 출력 ────────────────
array(3) { ["egoing"]=> int(10) ["k8805"]=> int(6) ["sorialgi"]=> int(80) }
```

<br>
다음은 특정한 key의 값을 가져오는 방법이다. 

```php
<?php
$grades = array('egoing'=>10, 'k8805'=>6, 'sorialgi'=>80);
echo $grades['sorialgi'];
//   $배열이름['키'];
?>
───────────── 출력 ────────────────
80
```

<br>
다음은 배열의 데이터를 기준으로 반복작업을 하는 방법이다.


```php
<?php
$grades = array('egoing'=>10, 'k8805'=>6, 'sorialgi'=>80);
foreach($grades as $key => $value) {
	echo "key: {$key} value: {$value}<br />";
}
?>
───────────── 출력 ────────────────
key: egoing value: 10
key: k8805 value: 6
key: sorialgi value: 80
```
##### ** << foreach >> **
1. 처음부터 끝까지 배열 값을 이용하고 싶을때 쓴다.
2. 문법은 as 뒤에 변수를 적어두면 루프 안에서 배열 안에 존재하는 각 요소를 꺼내서 쓸 수 있다.
3. 형태 : foreach ($array as $value) { 문장 }

```php
<?php
<< foreach문 예제 >>
$color = array("red","green","blue","yellow");	// 배열 생성

// 배열 $color[n]:n번째 요소가 $value 들어갑니다.
// 예를 들어 첫 번째 실행에서는 $color[0]값인 "red"가 $value안에 들어가 있습니다.
foreach($color as $value){
	echo "$value<br>";
}
?>
───────────── 출력 ────────────────
red
green
blue
yellow
```
<br>
1. 배열의 요소에 접근할 때는 배열명 뒤에 [숫자]를 사용한다.
2. 위의 예제에서 첫 번째 요소는 $colors[0]이고 마지막 네 번째 요소는 $colors[3]이 됩니다.
	-> 컴퓨터 언어에서는 0부터 시작하는 것이 기본이다.
3.  배열에서만 실행되는 함수 이다.
	-> 배열이 아니면 php코드 내에 오류메시지를 출력한다.
4. 배열에 담긴 요소의 숫자만큼 반복문을 실행한다.